# Encapsulate Field 封装字段

你的类中存在一个public字段。将它声明为private,并提供相应的访问函数。

##动机
面向对象的首要原则之一就是**封装**，或者称为“**数据隐藏**”。按此原则，你绝不应该将数据声明为public,否则其他对象就有可能访问甚至修改这项数据，而拥有该数据的对象却毫无察觉。于是，数据和行为就被分开了——这可不是件好事。

数据声明为public被看做是一种不好的做法，因为这样会降低程序的模块化程度。数据和使用该数据的行为如果集中在一起，一旦情况发生变化，代码的修改就会比较简单，因为需要修改的代码都集中于同一块地方，而小不是星罗棋布地散落在整个程序中。

Encapsulate Field是封装过程的第一步。通过这项重构手法，你可以将数据隐藏起来，并提供相应的访问函数。但它毕竟只是第一步。如果一个类除了访问函数外不能提供其他行为，它终究只是一个哑巴类。这样的类并不能享受对象技术带来的好处。而你知道，浪费任何一个对象都是很不好的。实施Encapsulate Field之后，我会尝试寻找用到新建访问函数的代码，看看是否可以通过简单的Move Method轻快地将它们移到新对象上。

##做法
* 为public字段提供取值/设值函数。
* 找到这个类以外使用该字段的所有地点。如果客户只是读取该字段，就把引用替换为对取值函数的调用：如果客户修改了该字段值，就将此引用点替换为对设值函数的调用。
  * 如果这个字段是个对象，而客户只不过是调用该对象的某个函数，那么无论该函数是否改变对象状态，都只能算是读取该字段.只有当客户为该字段赋值时，才能将其替换为设值函数。
* 每次修改之后，编译并测试。
* 将字段的所有用户修改完毕后，把字段声明为private。
* 编译，测试。