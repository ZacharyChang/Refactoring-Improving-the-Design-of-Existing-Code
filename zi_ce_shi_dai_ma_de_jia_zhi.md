# 自测试代码的价值

**确保所有测试都完全自动化，让它们检查自己的测试结果。**

**一套测试就是一个强大的bug侦测器，能够大大缩减查找bug所需要的时间。**

实际上，撰写测试代码的最有用时机是在开始编程之前。当你需要添加特性的时候，先写相应测试代码。听起来离经叛道，其实不然。编写测试代码其实就是在问自己：添加这个功能需要做些什么。编写测试代码还能使你把注意力集中于接口而非实现（这永远是件好事）。预先写好的测试代码也为你的工作安上一个明确的结束标志：一旦测试代码正常运行，工作就可以结束了。

频繁进行测试是极限编程[Beck, XP]的重要一环。极限编程一词容易让人联想起那些编码飞快、自由散漫的黑客，实际上极限编程者都是十分专注的测试者。他们希望尽可能快速开发软件，而且也知道测试能让他们尽可能快速地前进。

Java之中的测试惯用手法是testing main，意思是每个类都应该有一个用于测试的main()。这是一个合理的习惯（尽管并不那么值得称许），但可能不好操控。这种做法的问题是很难轻松运行多个测试。另一种做法是：建立一个独立类用于测试， 并在一个框架中运行它，使测试工作更轻松。
